<div class="d-flex flex-row flex-wrap align-items-center row-gap-1">


  @if(showMetadata) {

    <span class="badge bg-primary me-2">{{'MdsPublicationGenre.' + item?.metadata?.genre | translate}}</span>
    @if (publicationState) {
      <span class="badge bg-success me-2">{{'PublicationState.' + publicationState | translate}}: {{publicationStateDate | dateToYear}}</span>
    }
    @if (doi) {
      <a class="badge bg-mpdl-purple me-2" href="https://doi.org/{{doi}}" target="_blank">DOI: {{doi}}</a>
    }
  }


    <!--
    @if(showVersion) {
    <span class="badge bg-dark me-2">v{{item?.versionNumber}}</span>
    }
    -->

  <!--fill to right-align following badges-->
  <span class="ms-sm-auto"></span>

    @if(!item?.objectId) {
      <span class="badge bg-dark">NEW</span>
    }
    @else {
      @if(aaService.principal.value.loggedIn || state==='WITHDRAWN') {


        <span class="badge {{state==='WITHDRAWN' ? 'bg-danger' : 'bg-dark' }} me-2">{{'ItemState.' + state | translate}}{{showVersion ? ' (v' + item?.versionNumber + ')' : ''}}</span>

        @if(showPublicStatusIcon && state !== 'WITHDRAWN' && isModeratorOrDepositor) {

          @let isLatestVersion = item?.versionNumber === item?.latestVersion?.versionNumber ? 'border-bottom border-2 border-dark' : '';
          @let isLatestRelease = item?.versionNumber === item?.latestRelease?.versionNumber ? 'border-bottom border-2 border-dark' : '';

          <span>
            @if(item?.latestRelease) {

              <a class="" routerLink="/view/{{item?.objectId + '_' + item?.latestRelease?.versionNumber}}" [ngbTooltip]="('ItemState.' + item?.latestRelease?.versionState | translate) + ': Version ' + item?.latestRelease?.versionNumber ">
                <span class="material-symbols-outlined text-dark me-2 {{isLatestRelease}}">public</span>
              </a>
            }

            @if(item?.latestVersion?.versionState !== 'RELEASED'){

              <a class="" routerLink="/view/{{item?.objectId + '_' + item?.latestVersion?.versionNumber}}"  [ngbTooltip]="('ItemState.' + item?.latestVersion?.versionState | translate) + ': Version ' + item?.latestVersion?.versionNumber ">
                <span class="material-symbols-outlined text-dark me-2 {{isLatestVersion}}">overview</span>
              </a>
            }
          </span>
        }
      }







    }


</div>


